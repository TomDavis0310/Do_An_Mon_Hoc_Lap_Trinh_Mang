{{- define "main" }}

{{/* HERO SECTION */}}
<section class="hero-section">
  <div class="hero-gradient"></div>
  <div class="hero-container">
    {{/* Left Column - Content */}}
    <div class="hero-content">
      <h1 class="hero-title">
        Xây dựng 
        <span class="gradient-text">ứng dụng web</span> 
        hiện đại cùng 
        <span class="highlight-name">Nguyễn Võ Xuân Dương</span>
      </h1>
      
      <p class="hero-description">
        Chia sẻ kinh nghiệm về Spring Boot, JavaScript ES6+, REST API và phát triển Full-stack. 
        Tất cả những gì mình học được ở HUTECH và từ các dự án thực tế đều có mặt tại đây.
      </p>
      
      <div class="hero-buttons">
        <a href="{{ .Site.BaseURL }}posts/" class="btn-primary">
          Khám phá bài viết
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 7h10v10"></path>
            <path d="M7 17 17 7"></path>
          </svg>
        </a>
        <a href="{{ .Site.BaseURL }}about/" class="btn-outline">
          Về Xuân Dương
        </a>
      </div>
    </div>
    
    {{/* Right Column - Avatar Image */}}
    <div class="hero-image">
      <div class="avatar-container">
        {{- $profileImage := "/Do_An_Mon_Hoc_Lap_Trinh_Mang/images/profile.jpg" -}}
        <img src="{{ $profileImage }}" alt="Nguyễn Võ Xuân Dương" class="hero-avatar">
        <div class="avatar-glow"></div>
      </div>
    </div>
  </div>
</section>

{{/* BÀI VIẾT NỔI BẬT */}}
<section class="featured-posts">
  <div class="section-header">
    <h2 class="section-title">Bài viết nổi bật</h2>
    <a href="{{ .Site.BaseURL }}posts/" class="view-all">Xem tất cả →</a>
  </div>
  
  <div class="posts-grid">
    {{- $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}
    {{- $pages = where $pages "Params.draft" "!=" true }}
    {{- range first 3 $pages }}
    <article class="post-card">
      {{- $image := "" }}
      {{- if .Params.cover.image }}
        {{- $image = .Params.cover.image }}
      {{- else }}
        {{- $image = "https://images.unsplash.com/photo-1517694712202-14dd9538aa97?auto=format&fit=crop&w=1600&q=80" }}
      {{- end }}
      
      <div class="post-image">
        <img src="{{ $image }}" alt="{{ .Title }}" loading="lazy">
      </div>
      
      <div class="post-content">
        <h3 class="post-title">
          <a href="{{ .Permalink }}">{{ .Title }}</a>
        </h3>
        
        <p class="post-summary">
          {{- $summary := .Summary -}}
          {{- $summary = replaceRE `(?s)<h[0-9][^>]*>.*?</h[0-9]>` "" $summary -}}
          {{- $summary = replaceRE `(?s)<div[^>]*>.*?</div>` "" $summary -}}
          {{- $summary = replaceRE `(?s)<img[^>]*>` "" $summary -}}
          {{- $summary = replaceRE `(?s)<p[^>]*><img[^>]*>.*?</p>` "" $summary -}}
          {{- $summary = replaceRE `(?s)##\s+.*?\n` "" $summary -}}
          {{- $summary = replaceRE `\n+` " " $summary -}}
          {{- $summary = replaceRE `<[^>]+>` "" $summary -}}
          {{- $summary = trim $summary " " -}}
          {{- $summary | plainify | htmlUnescape | truncate 150 -}}
        </p>
        
        {{- with .Params.tags }}
        <div class="post-tags">
          {{- range first 3 . }}
          <span class="tag">#{{ . }}</span>
          {{- end }}
        </div>
        {{- end }}
      </div>
    </article>
    {{- end }}
  </div>
</section>

{{/* DỰ ÁN + TIMELINE */}}
<section class="projects-timeline">
  <div class="projects-section">
    <h2 class="section-title">Dự án tiêu biểu</h2>
    
    <div class="projects-grid">
      {{/* Project 1 */}}
      <div class="project-card">
        <h3 class="project-title">Personal Blog Website</h3>
        <p class="project-description">
          Blog cá nhân được xây dựng bằng Hugo với PaperMod theme, 
          tích hợp search, dark mode và tối ưu SEO. Deploy tự động lên GitHub Pages.
        </p>
        
        <div class="project-tech">
          <span class="tech-tag">Hugo</span>
          <span class="tech-tag">JavaScript</span>
          <span class="tech-tag">CSS3</span>
          <span class="tech-tag">GitHub Pages</span>
        </div>
        
        <ul class="project-features">
          <li>Responsive design cho mobile/tablet/desktop</li>
          <li>Dark mode với smooth transitions</li>
          <li>Full-text search với Fuse.js</li>
          <li>CI/CD với GitHub Actions</li>
        </ul>
        
        <div class="project-links">
          <a href="https://github.com/TomDavis0310/Do_An_Mon_Hoc_Lap_Trinh_Mang" target="_blank" rel="noopener" class="project-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path>
              <path d="M9 18c-4.51 2-5-2-7-2"></path>
            </svg>
            Repo
          </a>
          <span class="link-divider">|</span>
          <a href="{{ .Site.BaseURL }}" target="_blank" rel="noopener" class="project-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
              <polyline points="15 3 21 3 21 9"></polyline>
              <line x1="10" x2="21" y1="14" y2="3"></line>
            </svg>
            Demo
          </a>
        </div>
      </div>
      
      {{/* Project 2 */}}
      <div class="project-card">
        <h3 class="project-title">E-commerce REST API</h3>
        <p class="project-description">
          RESTful API cho hệ thống thương mại điện tử với Spring Boot, 
          MySQL, JWT authentication và đầy đủ CRUD operations.
        </p>
        
        <div class="project-tech">
          <span class="tech-tag">Spring Boot</span>
          <span class="tech-tag">MySQL</span>
          <span class="tech-tag">JWT</span>
          <span class="tech-tag">JPA</span>
        </div>
        
        <ul class="project-features">
          <li>Authentication & Authorization với JWT</li>
          <li>CRUD operations cho products, orders, users</li>
          <li>Exception handling tập trung</li>
          <li>API documentation với Swagger</li>
        </ul>
        
        <div class="project-links">
          <a href="https://github.com/TomDavis0310" target="_blank" rel="noopener" class="project-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path>
              <path d="M9 18c-4.51 2-5-2-7-2"></path>
            </svg>
            Repo
          </a>
        </div>
      </div>
    </div>
  </div>
  
  {{/* TIMELINE */}}
  <div class="timeline-section">
    <div class="timeline-card">
      <h3 class="timeline-title">Hành trình học tập &amp; dự án</h3>
      
      <div class="timeline-items">
        <div class="timeline-item">
          <span class="timeline-dot"></span>
          <p class="timeline-year">2025</p>
          <p class="timeline-event">Hoàn thành đồ án môn học</p>
          <p class="timeline-desc">
            Phát triển blog cá nhân với Hugo, tìm hiểu về Static Site Generator 
            và deploy automation với GitHub Actions.
          </p>
        </div>
        
        <div class="timeline-item">
          <span class="timeline-dot"></span>
          <p class="timeline-year">2024</p>
          <p class="timeline-event">Sinh viên năm 4 HUTECH</p>
          <p class="timeline-desc">
            Hoàn thành các môn chuyên ngành: Lập trình mạng, Công nghệ Web, 
            Bảo mật hệ thống. Tham gia các dự án nhóm và cá nhân.
          </p>
        </div>
        
        <div class="timeline-item">
          <span class="timeline-dot"></span>
          <p class="timeline-year">2023</p>
          <p class="timeline-event">Dự án E-commerce API</p>
          <p class="timeline-desc">
            Xây dựng REST API với Spring Boot, MySQL, JWT authentication 
            và deploy lên cloud platform.
          </p>
        </div>
        
        <div class="timeline-item">
          <span class="timeline-dot"></span>
          <p class="timeline-year">2022</p>
          <p class="timeline-event">Bắt đầu hành trình CNTT</p>
          <p class="timeline-desc">
            Nhập học ngành Công nghệ Thông tin tại HUTECH. 
            Học Java, OOP, cấu trúc dữ liệu và giải thuật.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

{{/* CTA SECTION */}}
<section class="cta-section">
  <div class="cta-content">
    <h3 class="cta-title">Tham gia cộng đồng học lập trình</h3>
    <p class="cta-description">
      Hàng tuần mình sẽ cập nhật những bài viết mới về Spring Boot, JavaScript, 
      Web Development và rất nhiều mẹo học tập hiệu quả. Hãy thường xuyên ghé thăm 
      hoặc gửi email nếu bạn muốn trao đổi các chủ đề chuyên sâu hơn.
    </p>
  </div>
  <a href="{{ .Site.BaseURL }}about/" class="cta-button">
    Kết nối với mình
  </a>
</section>

{{- end }}
